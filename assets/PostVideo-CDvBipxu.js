import{r as l,j as e,S as v,_ as i,k as g}from"./index-BuBebdqr.js";const N=({setCurrentPage:r})=>{const[o,n]=l.useState(""),[d,c]=l.useState(""),[f,x]=l.useState(null),h=t=>{x(t.target.files[0])},b=async t=>{var p,m;const u=i.loading("Posting video...");t.preventDefault();const s=new FormData;s.append("title",o),s.append("description",d),s.append("file",f);try{const a=await g.post("http://45.115.217.36:8000/api/v1/videos",s,{withCredentials:!0});n(""),c(""),x(null),i.success("Video posted successfully!",{id:u})}catch(a){i.error((m=(p=a==null?void 0:a.response)==null?void 0:p.data)==null?void 0:m.message,{id:u})}};return l.useEffect(()=>{r("PostVideo")},[r]),e.jsxs("div",{className:"flex w-full h-[80vh] items-center justify-center",children:[e.jsx(v,{title:"Profile | Post Video",description:"Create a new video...",name:"Technology Innovation Nepal",type:"article"}),e.jsxs("div",{className:"text-center bg-white px-8 py-12 rounded-3xl border-2 max-w-lg w-full",children:[e.jsx("h1",{className:"text-xl md:text-3xl font-semibold",children:"Post Video"}),e.jsxs("form",{onSubmit:b,className:"mt-8 space-y-4",children:[e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("label",{className:"text-base font-medium",children:"Title"}),e.jsx("input",{type:"text",className:"w-full text-base border-2 border-gray-100 rounded-xl p-4 mt-1 bg-transparent",placeholder:"Enter video title",value:o,onChange:t=>n(t.target.value),required:!0})]}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("label",{className:"text-base font-medium",children:"Description"}),e.jsx("textarea",{className:"w-full text-base border-2 border-gray-100 rounded-xl p-4 mt-1 bg-transparent",placeholder:"Enter video description",value:d,onChange:t=>c(t.target.value),required:!0})]}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("label",{className:"text-base font-medium",children:"Video File"}),e.jsx("input",{type:"file",className:"w-full text-base border-2 border-gray-100 rounded-xl p-4 mt-1 bg-transparent",onChange:h,required:!0})]}),e.jsx("button",{type:"submit",className:"active:scale-[.98] active:duration-75 hover:scale-[1.01] transition-all p-2 rounded-xl bg-[#3a86ff] text-white text-lg font-bold",children:"Post Video"})]})]})]})};export{N as default};
