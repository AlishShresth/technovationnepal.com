import{r as a,j as e,S as b,_ as i,k as g}from"./index-iqYehN4D.js";const N=({setCurrentPage:r})=>{const[o,d]=a.useState(""),[n,c]=a.useState(""),[f,x]=a.useState(null),h=t=>{x(t.target.files[0])},v=async t=>{var u,p;const m=i.loading("Posting video...");t.preventDefault();const s=new FormData;s.append("title",o),s.append("description",n),s.append("file",f);try{const l=await g.post("http://45.115.217.36:8000/api/v1/videos",s,{withCredentials:!0});d(""),c(""),x(null),i.success("Video posted successfully!",{id:m})}catch(l){i.error((p=(u=l==null?void 0:l.response)==null?void 0:u.data)==null?void 0:p.message,{id:m})}};return a.useEffect(()=>{r("PostVideo")},[r]),e.jsxs("div",{className:"flex w-full h-[80vh] items-center justify-center",children:[e.jsx(b,{title:"Profile | Post Video",description:"Create a new video...",name:"Technology Innovation Nepal",type:"article"}),e.jsxs("div",{className:"text-center bg-white px-8 py-12 rounded-3xl border-2 max-w-lg w-full",children:[e.jsx("h1",{className:"text-xl md:text-3xl font-semibold",children:"Post Video"}),e.jsxs("form",{onSubmit:v,className:"mt-8 space-y-4",children:[e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("label",{className:"text-md font-medium",children:"Title"}),e.jsx("input",{type:"text",className:"w-full text-md border-2 border-gray-100 rounded-xl p-4 mt-1 bg-transparent",placeholder:"Enter video title",value:o,onChange:t=>d(t.target.value),required:!0})]}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("label",{className:"text-md font-medium",children:"Description"}),e.jsx("textarea",{className:"w-full text-md border-2 border-gray-100 rounded-xl p-4 mt-1 bg-transparent",placeholder:"Enter video description",value:n,onChange:t=>c(t.target.value),required:!0})]}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("label",{className:"text-md font-medium",children:"Video File"}),e.jsx("input",{type:"file",className:"w-full text-md border-2 border-gray-100 rounded-xl p-4 mt-1 bg-transparent",onChange:h,required:!0})]}),e.jsx("button",{type:"submit",className:"active:scale-[.98] active:duration-75 hover:scale-[1.01] transition-all p-2 rounded-xl bg-[#3a86ff] text-white text-lg font-bold",children:"Post Video"})]})]})]})};export{N as default};
