import{r as s,j as t,S as g,_ as i,k as m}from"./index-iqYehN4D.js";const b=({setCurrentPage:o,setNotifications:u})=>{const[l,n]=s.useState(""),[r,c]=s.useState(""),p=async e=>{var x,f;e.preventDefault();const d=i.loading("Posting notification...");try{const a=await m.post("http://45.115.217.36:8000/api/v1/notifications",{title:l,message:r},{withCredentials:!0});console.log(a.data),n(""),c(""),i.success("Notification posted successfully!",{id:d}),h()}catch(a){i.error((f=(x=a==null?void 0:a.response)==null?void 0:x.data)==null?void 0:f.message,{id:d})}};async function h(){const e=await m.get("http://45.115.217.36:8000/api/v1/notifications/",{withCredentials:!0});console.log(e.data.data),u(e.data.data.data)}return s.useEffect(()=>{o("PostNotification")},[o]),t.jsxs("div",{className:"flex w-full h-[80vh] items-center justify-center",children:[t.jsx(g,{title:"Profile | Post Notification",description:"Create a new notification...",name:"Technology Innovation Nepal",type:"article"}),t.jsxs("div",{className:"text-center bg-white px-8 py-12 rounded-3xl border-2 max-w-lg w-full",children:[t.jsx("h1",{className:"text-xl md:text-3xl font-semibold",children:"Post Notification"}),t.jsxs("form",{onSubmit:p,className:"mt-8 space-y-4",children:[t.jsxs("div",{className:"flex flex-col text-left",children:[t.jsx("label",{className:"text-md font-medium",children:"Title"}),t.jsx("input",{type:"text",className:"w-full text-md border-2 border-gray-100 rounded-xl p-4 mt-1 bg-transparent",placeholder:"Enter notification title",value:l,onChange:e=>n(e.target.value),required:!0})]}),t.jsxs("div",{className:"flex flex-col text-left",children:[t.jsx("label",{className:"text-md font-medium",children:"Message"}),t.jsx("textarea",{className:"w-full text-md border-2 border-gray-100 rounded-xl p-4 mt-1 bg-transparent",placeholder:"Enter notification message",value:r,onChange:e=>c(e.target.value),required:!0})]}),t.jsx("button",{type:"submit",className:"active:scale-[.98] active:duration-75 hover:scale-[1.01] transition-all p-2 rounded-xl bg-[#3a86ff] text-white text-lg font-bold",children:"Post Notification"})]})]})]})};export{b as default};
